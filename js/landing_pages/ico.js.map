{"version":3,"sources":["../../../src/javascript/landing_pages/ico.js"],"names":["window","onload","clients_country","getClientCountry","toggleMobileMenu","hashRouter","collapseNavbar","signUpInit","checkUserSession","handleViewMemorandum","handleEmailBlurFocus","gtmPushDataLayer","language","getLanguage","toUpperCase","event","switchView","path","faq","document","getElementById","classList","home","hash","location","substr","test","bom_country_abbrev","clearHash","subscribe_success","remove","binary_ico_subscribe","add","checkIfFinished","setInterval","status_loading","finished_loading","contains","navbarHeight","checkWidth","ico_subscribe_section","to","offsetTop","scrollTo","clearInterval","collapseMenu","el_langs","getElementsByClassName","i","length","value","el_language_dropdown","setLanguage","addEventListener","e","target","preventDefault","getAttribute","offset","el_target","parentNode","id","parent","is_mobile","matchMedia","matches","toggleAllSiblings","filterById","toggle","nodeName","lang","urlForLanguage","openLink","getHowToIcoDocumentUrl","toLowerCase","getTokenRatingReportUrl","getLykkeReport","getNishantReport","onresize","onscroll","slider","tns","container","slideBy","rewind","controls","autoplay","autoplayHoverPause","speed","items","gutter","responsive","onInit","dispatchEvent","Event","commonOnload","history","pushState","pathname","el_email","el_signup","el_success","ws","wsConnect","sendVerifyEmail","trimmed_email","trimEmail","wsSend","verify_email","type","verifySubmit","msg","response","JSON","parse","data","setValidationStyle","error","str","replace","validation_set","frm_verify_email","evt","validateEmail","forEach","readyState","onopen","onmessage","gclid","getParamValue","referrer","localStorage","setItem","email","element","has_error","error_class","invisible_class","error_no_email","error_validate_email","sessionStorage","getItem","residence_list","accounts","Object","keys","some","loginid","residence","setSession","sendRequests","website_status","time","stringify","initCountdown","navbarFixedTopEl","scrollY","start_epoch","ico_start","Date","ico_end","date_diff","el_container","hidden_class","elements","remaining","countdownd_interval","is_before_start","is_started","end_date","updateStatus","calcRemainingTime","total","display_class","querySelectorAll","el","loading","ico_bottom_banner","handleICOClose","item","querySelector","arcs","arc_cover","updateCountdown","arc","days","hours","minutes","seconds","Math","floor","scale","innerHTML","slice","angle","idx","arc_angle","min","setAttribute","join","url","undefined","href","curr_lang","RegExp","trim","name","all_languages","ach","en","de","es","fr","it","ja","pl","pt","ru","th","vi","zh_cn","zh_tw","el_navbar_nav","textContent","el_name","getAllAccountsObject","client_object","current_loginid","isEmptyObject","obj","is_empty","key","prototype","hasOwnProperty","call","get","current_client","Array","isArray","isLoggedIn","signup_form","account_exists_msg","link","open_link","open","opener","getAppId","dataLayer","push","el_banner","el_view_memorandum"],"mappings":"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","file":"ico.js","sourcesContent":["window.onload = function() {\n    const clients_country = getClientCountry();\n\n    toggleMobileMenu();\n    hashRouter();\n    collapseNavbar();\n    signUpInit();\n    checkUserSession();\n    handleViewMemorandum();\n    handleEmailBlurFocus();\n\n    gtmPushDataLayer({ language: getLanguage().toUpperCase() });\n    gtmPushDataLayer({ event: 'page_load' });\n\n    function switchView(path) {\n        var faq = document.getElementById('faq');\n        if (faq) faq.classList[path === 'faq' ? 'remove' : 'add']('invisible');\n        var home = document.getElementById('home');\n        if (home) home.classList[path === 'faq' ? 'add' : 'remove']('invisible');\n    }\n\n    function hashRouter() {\n        const hash = window.location.hash.substr(1);\n\n        if (/done/.test(hash)) {\n            gtmPushDataLayer({ bom_country_abbrev: clients_country || '' });\n            gtmPushDataLayer({ event: 'ico_success' });\n            clearHash();\n            var subscribe_success = document.getElementById('subscribe_success');\n            if (subscribe_success) subscribe_success.classList.remove('invisible');\n            var binary_ico_subscribe = document.getElementById('binary_ico_subscribe');\n            if (binary_ico_subscribe) binary_ico_subscribe.classList.add('invisible');\n            // wait countdown is finished loading before scroll to section\n            var checkIfFinished = setInterval(function(){\n                var status_loading = document.getElementById('status_loading');\n                var finished_loading = status_loading ? status_loading.classList.contains('invisible') : true;\n                if (finished_loading === true) {\n                    let navbarHeight = checkWidth();\n                    var ico_subscribe_section = document.getElementById('ico_subscribe_section');\n                    if (ico_subscribe_section) {\n                        const to = ico_subscribe_section.offsetTop - navbarHeight;\n                        scrollTo(to);\n                    }\n                    clearInterval(checkIfFinished);\n                }\n            }, 500);\n        }\n\n        if (/faq/.test(hash)) {\n            switchView('faq');\n            scrollTo(0);\n            window.location.hash = '#faq';\n            collapseMenu();\n        }\n\n        if (!hash) {\n            switchView('home');\n            scrollTo(0);\n            clearHash();\n        }\n    }\n\n    // Set language fields\n    const language = getLanguage();\n    const el_langs = document.getElementsByClassName('frm-language');\n    for (let i = 0; i < el_langs.length; i++) {\n        el_langs[i].value = language;\n    }\n\n    const el_language_dropdown = document.getElementsByClassName('language-dropdown')[0];\n    setLanguage(el_language_dropdown, getLanguage());\n    document.addEventListener('click', function(e) {\n        // Scroll to section\n        if (e.target.classList.contains('page-scroll')) {\n            e.preventDefault();\n            switchView('home');\n            clearHash();\n            const target = e.target.getAttribute('href').substr(1);\n            const offset = /who-we-are|page-top/.test(target) ? 55 : 0;\n            const navbarHeight = checkWidth();\n            const el_target = document.getElementById(target);\n            const to = el_target ? el_target.offsetTop - navbarHeight - offset : '';\n            scrollTo(to);\n            collapseMenu();\n        }\n\n        // Show / hide language dropdown\n        if (e.target.parentNode.id === 'lang') {\n            e.preventDefault();\n            const parent    = el_language_dropdown.parentNode;\n            const is_mobile = window.matchMedia(\"(max-width: 1199px)\").matches;\n            if (is_mobile) {\n                toggleAllSiblings(parent, filterById, 'invisible');\n            }\n            el_language_dropdown.classList.toggle('show');\n        }\n    });\n\n    el_language_dropdown.addEventListener('click', function(e) {\n        e.preventDefault();\n        if (e.target.nodeName !== 'LI') return;\n        const lang = e.target.getAttribute('class');\n        if (lang === getLanguage()) return;\n        el_language_dropdown.classList.add('invisible'); // hide on change\n        document.location = urlForLanguage(lang);\n    });\n\n    document.getElementsByClassName('howto-btn')[0].addEventListener('click', function(e) {\n        e.preventDefault();\n        openLink(getHowToIcoDocumentUrl(language.toLowerCase()));\n    });\n\n    document.getElementById('token-btn').addEventListener('click', function(e) {\n        e.preventDefault();\n        openLink(getTokenRatingReportUrl(language.toLowerCase()));\n    });\n\n    document.getElementById('lykke-btn').addEventListener('click', function(e) {\n        e.preventDefault();\n        openLink(getLykkeReport(language.toLowerCase()));\n    });\n\n    document.getElementById('nishant-btn').addEventListener('click', function(e) {\n        e.preventDefault();\n        openLink(getNishantReport(language.toLowerCase()));\n    });\n\n    window.onresize = checkWidth;\n    window.onscroll = collapseNavbar;\n    window.addEventListener('hashchange', hashRouter);\n\n    // News slider configuration\n    const slider = tns({\n        container: '.my-slider',\n        slideBy: 'page',\n        rewind: true,\n        controls: true,\n        autoplay: true,\n        autoplayHoverPause: true,\n        speed: 600,\n        items: 2,   // start with mobile config\n        gutter: 5,\n        responsive: {\n            900: {  // desktop config\n                items: 4,\n                gutter: 20,\n            },\n            640: {  // tablet config\n                items: 3,\n                gutter: 15,\n            },\n        },\n        onInit: function() {\n            window.dispatchEvent(new Event('resize')); // trigger resize event\n            document.getElementsByClassName('slider-container')[0].classList.remove('invisible');\n        }\n    });\n\n    commonOnload();\n};\n\nfunction clearHash() {\n    if (window.history.pushState) {\n        window.history.pushState('', '/', window.location.pathname);\n    } else {\n        window.location.hash = '';\n    }\n}\n\nfunction signUpInit() {\n    var el_email   = document.getElementById('email');\n    var el_signup  = document.getElementById('signup');\n    var el_success = document.getElementById('success');\n\n    var ws = wsConnect();\n\n    function sendVerifyEmail() {\n        var trimmed_email = trimEmail(el_email.value);\n        wsSend(ws, {\n            verify_email: trimmed_email,\n            type        : 'account_opening'\n        });\n    }\n\n    function verifySubmit(msg) {\n        var response = JSON.parse(msg.data);\n        setValidationStyle(el_email, response.error);\n        if (!response.error) {\n            el_signup.classList.add('invisible');\n            el_success.classList.remove('invisible');\n        }\n    }\n\n    function trimEmail(str) {\n        return str.replace(/\\s/g, \"\");\n    }\n\n    var validation_set = false; // To prevent validating before submit\n\n    var frm_verify_email = document.getElementById('frm_verify_email');\n    if (frm_verify_email) {\n        frm_verify_email.addEventListener('submit', function (evt) {\n            evt.preventDefault();\n\n            if (!validateEmail(trimEmail(el_email.value))) {\n                if (!validation_set) {\n                    ['input', 'change'].forEach(function (evt) {\n                        el_email.addEventListener(evt, function () {\n                            setValidationStyle(el_email, !validateEmail(trimEmail(el_email.value)));\n                        });\n                    });\n                    setValidationStyle(el_email, !validateEmail(trimEmail(el_email.value)));\n                    validation_set = true;\n                }\n                return false;\n            }\n\n            if (ws.readyState === 1) {\n                sendVerifyEmail();\n            } else {\n                ws = wsConnect();\n                ws.onopen = sendVerifyEmail;\n                ws.onmessage = verifySubmit;\n            }\n        });\n    }\n\n    ws.onmessage = verifySubmit;\n\n    // Store gclid\n    var gclid = getParamValue(document.referrer, 'gclid');\n    if (gclid) {\n        localStorage.setItem('gclid', gclid);\n    }\n}\n\nfunction validateEmail(email) {\n    return /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$/.test(email);\n}\n\nfunction setValidationStyle(element, has_error) {\n    var error_class = 'error-field';\n    var invisible_class = 'invisible';\n    element.classList[has_error ? 'add' : 'remove'](error_class);\n    if (element.value.length < 1) {\n        var error_no_email = document.getElementById('error_no_email');\n        if (error_no_email) error_no_email.classList[has_error ? 'remove' : 'add'](invisible_class);\n        var error_validate_email = document.getElementById('error_validate_email');\n        if (error_validate_email) error_validate_email.classList[has_error ? 'add' : 'remove'](invisible_class);\n    }\n    else if (element.value.length >= 1) {\n        var error_validate_email = document.getElementById('error_validate_email');\n        if (error_validate_email) error_validate_email.classList[has_error ? 'remove' : 'add'](invisible_class);\n        var error_no_email = document.getElementById('error_no_email');\n        if (error_no_email) error_no_email.classList[has_error ? 'add' : 'remove'](invisible_class);\n    }\n    if (!has_error) {\n        var error_validate_email = document.getElementById('error_validate_email');\n        if (error_validate_email) error_validate_email.classList.add(invisible_class);\n        var error_no_email = document.getElementById('error_no_email');\n        if (error_no_email) error_no_email.classList.add(invisible_class);\n    }\n}\n\nfunction getClientCountry() {\n    let clients_country = sessionStorage.getItem('clients_country');\n    let residence_list  = sessionStorage.getItem('residence_list');\n\n    // Try to get residence from client's info if logged-in\n    if (!clients_country) {\n        const accounts = JSON.parse(localStorage.getItem('client.accounts') || null);\n        if (accounts) {\n            Object.keys(accounts).some(function (loginid) {\n                if (accounts[loginid].residence) {\n                    clients_country = accounts[loginid].residence;\n                    setSession('clients_country', clients_country);\n                    return true;\n                }\n            });\n        }\n    }\n\n    // Get required info from WebSocket\n    const ws = wsConnect();\n\n    function sendRequests() {\n        if (!clients_country) wsSend(ws, { website_status: 1 });\n        if (!residence_list)  wsSend(ws, { residence_list: 1 });\n        wsSend(ws, { time: 1 });\n    }\n\n    if (ws.readyState === 1) {\n        sendRequests();\n    } else {\n        ws.onopen = sendRequests;\n    }\n\n    ws.onmessage = function (msg) {\n        const response = JSON.parse(msg.data);\n        if (response.website_status) {\n            clients_country = response.website_status.clients_country;\n            setSession('clients_country', clients_country);\n        } else if (response.residence_list) {\n            setSession('residence_list', JSON.stringify(response.residence_list));\n        } else if (response.time) {\n            initCountdown(response.time);\n        }\n    };\n\n    return clients_country;\n}\n\n// Collapse navbar on scroll\nfunction collapseNavbar() {\n    const navbarFixedTopEl = document.getElementsByClassName('navbar-fixed-top');\n    navbarFixedTopEl[0].classList[window.scrollY < 50 ? 'add' : 'remove']('top-nav-collapse');\n}\n\nfunction initCountdown(start_epoch) {\n    const ico_start    = Date.parse(new Date('2017-11-15T00:00:00Z'));\n    const ico_end      = Date.parse(new Date('2017-12-25T00:00:00Z'));\n    const date_diff    = Date.parse(new Date()) - start_epoch * 1000;\n\n    const el_container = document.getElementById('status_container');\n    const hidden_class = 'invisible';\n    const elements     = {};\n    let remaining      = 0;\n    let countdownd_interval,\n        is_before_start,\n        is_started,\n        end_date;\n\n    function updateStatus() {\n        is_before_start = calcRemainingTime(ico_start, date_diff).total > 0;\n        is_started      = calcRemainingTime(ico_end,   date_diff).total > 0 && !is_before_start;\n        end_date        = is_before_start ? ico_start : ico_end;\n\n        const display_class = 'status-' + (is_started ? 'started' : 'ended');\n        el_container.querySelectorAll('.status-toggle').forEach(function(el) {\n            el.classList[el.classList.contains(display_class) ? 'remove' : 'add'](hidden_class);\n        });\n\n        var loading = document.getElementById('status_loading');\n        if (loading) loading.classList.add(hidden_class);\n        el_container.classList.remove(hidden_class);\n\n        if (!is_before_start) {\n            if (!is_started) { // is_ended\n                clearInterval(countdownd_interval);\n            }\n        }\n\n        if (is_started) {\n            const ico_bottom_banner = document.getElementById('ico-bottom-banner');\n            if(ico_bottom_banner){\n                handleICOClose(ico_bottom_banner);\n                ico_bottom_banner.classList.remove(hidden_class);\n            }\n        }\n    }\n\n    updateStatus();\n\n    if (!is_before_start && !is_started) return; // no countdown when already ended\n\n    // Get all elements only once\n    ['days', 'hours', 'minutes', 'seconds'].forEach(function (id) {\n        const item = el_container.querySelector('#cd_' + id);\n        elements[id] = {\n            value    : item.querySelector('.cd-value'),\n            arcs     : item.querySelectorAll('.arc_q'),\n            arc_cover: item.querySelector('.arc_cover'),\n        };\n    });\n\n    function updateCountdown() {\n        remaining = calcRemainingTime(end_date, date_diff);\n\n        arc(elements.days,    remaining.days,    is_before_start ? 20 : 40);\n        arc(elements.hours,   remaining.hours,   24);\n        arc(elements.minutes, remaining.minutes, 60);\n        arc(elements.seconds, remaining.seconds, 60);\n\n        if (remaining.total <= 0) {\n            updateStatus();\n        }\n    }\n\n    updateCountdown();\n\n    if (remaining.total > 0) {\n        countdownd_interval = setInterval(updateCountdown, 1000);\n    }\n}\n\nfunction calcRemainingTime(end_date, date_diff) {\n    const total   = Math.floor(end_date - Date.parse(new Date()) + date_diff) / 1000;\n    const seconds = Math.floor(total % 60);\n    const minutes = Math.floor((total / 60) % 60);\n    const hours   = Math.floor((total / (60 * 60)) % 24);\n    const days    = Math.floor(total / (60 * 60 * 24));\n\n    return {\n        total  : total,\n        days   : days,\n        hours  : hours,\n        minutes: minutes,\n        seconds: seconds,\n    };\n}\n\nfunction arc(el, value, scale) {\n    el.value.innerHTML = ('0' + value).slice(-2);\n\n    const angle = value * 360 / scale;\n    el.arcs.forEach(function(arc, idx) {\n        const arc_angle = Math.min((idx + 1) * 90, angle) - 135;\n        arc.setAttribute('style', ['-webkit-', '-moz-', '-o-', '-ms-', '', ''].join('transform: rotate(' + arc_angle + 'deg); '));\n    });\n    el.arc_cover.classList[angle > 90 ? 'add' : 'remove']('invisible');\n}\n\nfunction urlForLanguage(lang, url) {\n    if (url === undefined) {\n        url = window.location.href;\n    }\n    let curr_lang = getLanguage();\n    return url.replace(new RegExp('/' + curr_lang + '/', 'i'), '/' + lang.trim().toLowerCase() + '/');\n}\n\nfunction setLanguage(el, name) {\n    const all_languages = {\n        ach  : 'Translations',\n        en   : 'English',\n        de   : 'Deutsch',\n        es   : 'Español',\n        fr   : 'Français',\n        id   : 'Indonesia',\n        it   : 'Italiano',\n        ja   : '日本語',\n        pl   : 'Polish',\n        pt   : 'Português',\n        ru   : 'Русский',\n        th   : 'Thai',\n        vi   : 'Tiếng Việt',\n        zh_cn: '简体中文',\n        zh_tw: '繁體中文',\n    };\n    const el_navbar_nav = document.getElementsByClassName('navbar-nav')[0];\n\n    if (/pt|vi|id/.test(name)) {\n        el_navbar_nav.classList.add('word-wrap'); // wrap long words\n    }\n\n    document.getElementById('selected-lang').textContent = all_languages[name];\n    const el_name = document.getElementsByClassName(name)[0];\n    if (el_name) {\n        el_name.classList.add('invisible');\n    }\n\n    el_navbar_nav.classList.remove('invisible');\n    el.classList.remove('invisible');\n}\n\nfunction checkUserSession() {\n\n    const getAllAccountsObject = () => JSON.parse(localStorage.getItem('client.accounts'));\n    const client_object        = getAllAccountsObject();\n    const current_loginid      = localStorage.getItem('active_loginid');\n\n    const isEmptyObject = (obj) => {\n        let is_empty = true;\n        if (obj && obj instanceof Object) {\n            Object.keys(obj).forEach((key) => {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) is_empty = false;\n            });\n        }\n        return is_empty;\n    };\n\n    const get = (key, loginid = current_loginid) => {\n        let value;\n        if (key === 'loginid') {\n            value = loginid || localStorage.getItem('active_loginid');\n        } else {\n            const current_client = client_object[loginid] || getAllAccountsObject()[loginid] || {};\n\n            value = key ? current_client[key] : current_client;\n        }\n        if (!Array.isArray(value) && (+value === 1 || +value === 0 || value === 'true' || value === 'false')) {\n            value = JSON.parse(value || false);\n        }\n        return value;\n    };\n\n    const isLoggedIn = () => (\n        !isEmptyObject(getAllAccountsObject()) &&\n        get('loginid') &&\n        get('token')\n    );\n\n    const signup_form        = document.getElementById('sign-up-section');\n    const account_exists_msg = document.getElementById('account_exists_message');\n\n    if (!isLoggedIn()) {\n        if (signup_form) {\n            signup_form.classList.remove('invisible');\n        }\n        if (account_exists_msg) {\n            account_exists_msg.classList.remove('invisible');\n        }\n    }\n}\n\nfunction openLink(link) {\n    var open_link = window.open();\n    open_link.opener = null;\n    open_link.location = link;\n}\n\nfunction getHowToIcoDocumentUrl(lang = 'en') {\n    return `https://ico_documents.binary.com/howto_ico${/^(ru|id|pt|vi)$/i.test(lang) ? `_${lang}` : ''}.pdf`\n}\n\nfunction getTokenRatingReportUrl(lang = 'en') {\n    return `https://ico_documents.binary.com/research/tokenrating/tokenrating_research_report${/^(id|de)$/i.test(lang) ? `_${lang}` : ''}.pdf`\n}\n\nfunction getLykkeReport(lang = 'en') {\n    return `https://ico_documents.binary.com/research/lykke/lykke_research_report${/^(id)$/i.test(lang) ? `_${lang}` : ''}.pdf`\n}\n\nfunction getNishantReport(lang = 'en') {\n    return `https://ico_documents.binary.com/research/nishantsah/report${/^(id|zh_cn|zh_tw|ru|th)$/i.test(lang) ? `_${lang}` : ''}.pdf`\n}\n\nfunction gtmPushDataLayer(obj) {\n    if (obj && /^(1|1098)$/.test(getAppId())) {\n        dataLayer.push(obj);\n    }\n}\n\nfunction handleICOClose(el_banner) {\n    el_banner.addEventListener('click', function() {\n        openLink(this.getAttribute('data-url'));\n    });\n}\n\nfunction handleViewMemorandum() {\n    const el_view_memorandum = document.getElementById('view_memorandum');\n    if (el_view_memorandum) {\n        el_view_memorandum.addEventListener('click', function () {\n            window.location.href = this.getAttribute('data-url');\n        });\n    }\n}\n\nfunction handleEmailBlurFocus() {\n    const el_email = document.getElementById('awf_field-90867273');\n    if (el_email) {\n        el_email.addEventListener('focus', function () {\n            if (this.value === '') {\n                this.value = '';\n            }\n        });\n        el_email.addEventListener('blur', function () {\n            if (this.value === '') {\n                this.value = '';\n            }\n        });\n    }\n}\n"]}